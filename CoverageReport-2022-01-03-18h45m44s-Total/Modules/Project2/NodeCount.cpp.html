<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>NodeCount.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "NodeCount.h"

NodeCount::NodeCount(Parameters * parameters, Job job, bool isStart, unsigned int jobID)
<span style = "background-color:#dfd">{
	this-&gt;jobID = jobID;
	this-&gt;GPUNodesNum = parameters-&gt;getNumberOfGPUNodes();
	this-&gt;hugeNodesNum = parameters-&gt;getNumberOfHugeNodes();
	this-&gt;largeNodesNum = parameters-&gt;getNumberOfLargeNodes();
	this-&gt;mediumNodesNum = parameters-&gt;getNumberOfMediumNodes();
	this-&gt;shortNodesNum = parameters-&gt;getNumberOfShortNodes();
	this-&gt;isStart = isStart;
	if (isStart)</span>
	{
<span style = "background-color:#dfd">		if (job.isGPUJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;GPUNodesNum = parameters-&gt;getNumberOfGPUNodes() - job.getNodesRequired();
		}</span>
<span style = "background-color:#dfd">		else if (job.isHugeJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;hugeNodesNum = parameters-&gt;getNumberOfHugeNodes() - job.getNodesRequired();
		}
		else if (job.isLargeJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;largeNodesNum = parameters-&gt;getNumberOfLargeNodes() - job.getNodesRequired();
		}</span>
<span style = "background-color:#dfd">		else if (job.isMediumJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;mediumNodesNum = parameters-&gt;getNumberOfMediumNodes() - job.getNodesRequired();
		}</span>
<span style = "background-color:#fdd">		else if (job.isShortJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;shortNodesNum = parameters-&gt;getNumberOfShortNodes() - job.getNodesRequired();</span>
		}
<span style = "background-color:#dfd">		this-&gt;time = job.getStartTime();
	}</span>
	else
	{
<span style = "background-color:#fdd">		if (job.isGPUJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;GPUNodesNum = parameters-&gt;getNumberOfGPUNodes() + job.getNodesRequired();
		}
		else if (job.isHugeJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;hugeNodesNum = parameters-&gt;getNumberOfHugeNodes() + job.getNodesRequired();
		}
		else if (job.isLargeJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;largeNodesNum = parameters-&gt;getNumberOfLargeNodes() + job.getNodesRequired();
		}
		else if (job.isMediumJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;mediumNodesNum = parameters-&gt;getNumberOfMediumNodes() + job.getNodesRequired();
		}
		else if (job.isShortJob())</span>
		{
<span style = "background-color:#fdd">			this-&gt;shortNodesNum = parameters-&gt;getNumberOfShortNodes() + job.getNodesRequired();</span>
		}
<span style = "background-color:#fdd">		this-&gt;time = job.getEndTime();</span>
	}
<span style = "background-color:#dfd">}</span>

NodeCount::NodeCount(NodeCount&amp; oldNodeCount, Job job, bool isStart, unsigned int jobID)
<span style = "background-color:#dfd">{
	this-&gt;jobID = jobID;
	this-&gt;GPUNodesNum = oldNodeCount.GPUNodesNum;
	this-&gt;hugeNodesNum = oldNodeCount.hugeNodesNum;
	this-&gt;largeNodesNum = oldNodeCount.largeNodesNum;
	this-&gt;mediumNodesNum = oldNodeCount.mediumNodesNum;
	this-&gt;shortNodesNum = oldNodeCount.shortNodesNum;
	this-&gt;isStart = isStart;
	if (isStart)</span>
	{
<span style = "background-color:#dfd">		if (job.isGPUJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;GPUNodesNum = oldNodeCount.GPUNodesNum - job.getNodesRequired();
		}
		else if (job.isHugeJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;hugeNodesNum = oldNodeCount.hugeNodesNum - job.getNodesRequired();
		}
		else if (job.isLargeJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;largeNodesNum = oldNodeCount.largeNodesNum - job.getNodesRequired();
		}
		else if (job.isMediumJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;mediumNodesNum = oldNodeCount.mediumNodesNum - job.getNodesRequired();
		}
		else if (job.isShortJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;shortNodesNum = oldNodeCount.shortNodesNum - job.getNodesRequired();</span>
		}
<span style = "background-color:#dfd">		this-&gt;time = job.getStartTime();
	}</span>
	else 
	{
<span style = "background-color:#dfd">		if (job.isGPUJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;GPUNodesNum = oldNodeCount.GPUNodesNum + job.getNodesRequired();
		}
		else if (job.isHugeJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;hugeNodesNum = oldNodeCount.hugeNodesNum + job.getNodesRequired();
		}
		else if (job.isLargeJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;largeNodesNum = oldNodeCount.largeNodesNum + job.getNodesRequired();
		}
		else if (job.isMediumJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;mediumNodesNum = oldNodeCount.mediumNodesNum + job.getNodesRequired();
		}
		else if (job.isShortJob())</span>
		{
<span style = "background-color:#dfd">			this-&gt;shortNodesNum = oldNodeCount.shortNodesNum + job.getNodesRequired();</span>
		}
<span style = "background-color:#dfd">		this-&gt;time = job.getEndTime();</span>
	}
<span style = "background-color:#dfd">}</span>

unsigned int NodeCount::getTime()
<span style = "background-color:#dfd">{
	return this-&gt;time;
}</span>

void NodeCount::refreshNodeCount(Job job) 
<span style = "background-color:#dfd">{
	if (job.isGPUJob())</span>
	{
<span style = "background-color:#dfd">		this-&gt;GPUNodesNum -= job.getNodesRequired();
	}
	else if (job.isHugeJob())</span>
	{
<span style = "background-color:#fdd">		this-&gt;hugeNodesNum = job.getNodesRequired();
	}</span>
<span style = "background-color:#dfd">	else if(job.isLargeJob())</span>
	{
<span style = "background-color:#dfd">		this-&gt;largeNodesNum -= job.getNodesRequired();
	}
	else if (job.isMediumJob())</span>
	{
<span style = "background-color:#dfd">		this-&gt;mediumNodesNum -= job.getNodesRequired();
	}
	else if (job.isShortJob())</span>
	{
<span style = "background-color:#dfd">		this-&gt;shortNodesNum -= job.getNodesRequired();</span>
	}
<span style = "background-color:#dfd">}</span>

unsigned int NodeCount::getHugeNodesNum()
<span style = "background-color:#dfd">{
	return this-&gt;hugeNodesNum;
}</span>

unsigned int NodeCount::getGPUNodesNum()
<span style = "background-color:#dfd">{
	return this-&gt;GPUNodesNum;
}</span>

unsigned int NodeCount::getLargeNodesNum()
<span style = "background-color:#dfd">{
	return this-&gt;largeNodesNum;
}</span>

unsigned int NodeCount::getMediumNodesNum()
<span style = "background-color:#dfd">{
	return this-&gt;mediumNodesNum;
}</span>

unsigned int NodeCount::getShortNodesNum()
<span style = "background-color:#dfd">{
	return this-&gt;shortNodesNum;
}</span>

bool NodeCount::getIsStart()
<span style = "background-color:#dfd">{
	return this-&gt;isStart;
}</span>

unsigned int NodeCount::getJobID()
<span style = "background-color:#dfd">{
	return this-&gt;jobID;
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>