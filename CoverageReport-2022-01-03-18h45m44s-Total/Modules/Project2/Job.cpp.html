<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>Job.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "Job.h"

// Alternate constructor
<span style = "background-color:#dfd">Job::Job(unsigned int submissionTime, unsigned int jobDuration, int nodesRequired, bool GPUjob) {
	this-&gt;submissionTime = submissionTime;
	this-&gt;nodesRequired = nodesRequired;
	this-&gt;GPUjob = GPUjob;
	if (GPUjob)</span>
	{
<span style = "background-color:#dfd">		this-&gt;queueType = QueueType::GPUJob;
	}
	else if (jobDuration &lt;= ONE_HOUR_IN_SEC) {
		this-&gt;queueType = QueueType::ShortJob;
	}
	else if (jobDuration &gt; ONE_HOUR_IN_SEC &amp;&amp; jobDuration &lt;= EIGHT_HOURS_IN_SEC) {
		this-&gt;queueType = QueueType::MediumJob;
	}
	else if (jobDuration &gt; EIGHT_HOURS_IN_SEC &amp;&amp; jobDuration &lt;= SIXTEEN_HOURS_IN_SEC) {
		this-&gt;queueType = QueueType::LargeJob;
	}</span>
	else {
<span style = "background-color:#dfd">		this-&gt;queueType = QueueType::HugeJob;</span>
	}
<span style = "background-color:#dfd">	this-&gt;jobDuration = jobDuration;
	this-&gt;endTime = 0;
	this-&gt;startTime = 0;
	this-&gt;turnAroundTimeRatio = 0;
	this-&gt;price = computePrice();
}</span>

<span style = "background-color:#dfd">unsigned int Job::getSubmissionTime() {
	return this-&gt;submissionTime;
}</span>

<span style = "background-color:#dfd">unsigned int Job::getJobDuration() {
	return this-&gt;jobDuration;
}</span>

<span style = "background-color:#dfd">unsigned int Job::getStartTime() {
	return this-&gt;startTime;
}</span>

<span style = "background-color:#dfd">unsigned int Job::getEndTime() {
	return this-&gt;endTime;
}</span>

<span style = "background-color:#dfd">int Job::getNodesRequired() {
	return this-&gt;nodesRequired;
}</span>

//If GPU the calcul is not the same (we need a price for traditional and accelerated nodes)
<span style = "background-color:#dfd">double Job::computePrice() {
	if (GPUjob) </span>
	{ 
<span style = "background-color:#dfd">		this-&gt;price = (double)(jobDuration) * (double)(nodesRequired)*ACCELERATED_NODE_COST;
	}</span>
	else 
	{ 
<span style = "background-color:#dfd">		this-&gt;price = (double)(jobDuration) * (double)(nodesRequired)*TRADITIONAL_NODE_COST;	</span>
	}
<span style = "background-color:#dfd">	return this-&gt;price;
}</span>

<span style = "background-color:#dfd">bool Job::isShortJob() {
	return this-&gt;queueType == QueueType::ShortJob;
}</span>

<span style = "background-color:#dfd">bool Job::isMediumJob() {
	return this-&gt;queueType == QueueType::MediumJob;
}</span>

<span style = "background-color:#dfd">bool Job::isLargeJob() {
	return this-&gt;queueType == QueueType::LargeJob;
}</span>

<span style = "background-color:#dfd">bool Job::isGPUJob() {
	return this-&gt;queueType == QueueType::GPUJob;
}</span>

<span style = "background-color:#dfd">bool Job::isHugeJob() {
	return this-&gt;queueType == QueueType::HugeJob;
}</span>

<span style = "background-color:#fdd">User * Job::getUser() {
	return this-&gt;user;
}</span>

void Job::setUser(User * user)
<span style = "background-color:#dfd">{
	this-&gt;user = user;
}</span>

void Job::setStartTime(unsigned int startTime)
<span style = "background-color:#dfd">{
	this-&gt;startTime = startTime;
}</span>

void Job::setEndTime(unsigned int endTime)
<span style = "background-color:#dfd">{
	this-&gt;endTime = endTime;
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>